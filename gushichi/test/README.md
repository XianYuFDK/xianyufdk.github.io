# 古诗词搜索网站测试指南

本指南将帮助你测试古诗词搜索网站的功能，特别是本地数据加载功能。

## 测试环境准备

### 启动本地服务器

可以使用以下方式之一启动本地服务器：

1. **使用 Python**
   ```
   cd 项目根目录
   python -m http.server 8080
   ```

2. **使用 Node.js 的 http-server**
   ```
   cd 项目根目录
   npx http-server -p 8080
   ```

3. **使用 Visual Studio Code 的 Live Server 插件**
   安装 Live Server 插件，右键点击 index.html，选择"Open with Live Server"。

### 访问测试页面

启动服务器后，打开浏览器访问：
- 主页：http://localhost:8080
- 测试页面：http://localhost:8080/test/

## 测试内容

### 1. 本地数据加载测试

#### 测试步骤
1. 在测试页面选择"本地数据"作为数据源
2. 点击"测试数据加载"按钮
3. 观察各类别的数据是否成功加载

#### 预期结果
- 所有诗词类别（唐诗、宋词、诗经等）都能成功从本地加载数据
- 每个类别都能显示数据量和示例内容

### 2. 搜索功能测试

#### 测试步骤
1. 在测试页面选择"本地数据"作为数据源
2. 点击"测试搜索功能"按钮
3. 观察预设关键词的搜索结果是否符合预期

#### 预期结果
- "春晓"搜索应返回孟浩然的《春晓》
- "学而"搜索应返回《论语·学而篇》
- "关雎"搜索应返回《诗经·关雎》

### 3. 快速搜索测试

#### 测试步骤
1. 在快速搜索区域输入关键词（如"春"）
2. 选择分类（如"唐诗"）
3. 点击"搜索"按钮
4. 查看搜索结果

#### 预期结果
- 显示包含关键词的相关诗词列表
- 结果应包含作者、标题和内容预览

### 4. 综合测试

点击"运行所有测试"按钮，执行完整的测试流程。测试会依次检查配置、数据加载和搜索功能，并给出测试结果摘要。

## 测试主网站功能

完成测试页面的测试后，可以返回主页测试实际的用户体验：

1. 打开主页 http://localhost:8080
2. 点击"API 设置"按钮
3. 确保"优先使用本地数据"选项已勾选
4. 在搜索框中输入关键词进行搜索
5. 尝试"换一首"按钮获取随机诗词

## 故障排除

### 数据加载失败
- 检查 data/chinese-poetry 目录下是否有对应的数据文件
- 查看浏览器控制台是否有错误信息
- 确保服务器有权限读取数据文件

### 搜索结果不符合预期
- 检查搜索选项（标题、作者、内容）是否正确选择
- 尝试更改搜索关键词
- 检查浏览器控制台是否有错误信息

### 缓存问题
- 在 API 设置中禁用本地缓存
- 清除浏览器缓存
- 使用无痕/隐私模式测试
